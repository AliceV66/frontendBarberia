---
import BookingButton from "./BookingButton.astro";

interface ServiceItem {
  name: string;
  price: string;
  description?: string;
  isPremium?: boolean;
  isFeatured?: boolean;
}

interface ServiceCategory {
  category: string;
  items: ServiceItem[];
}

const services: ServiceCategory[] = [
  {
    category: "VIP & Spa Experience",
    items: [
      {
        name: "Servicios VIP: afeitado de cabeza + afeitado clásico o definición y arreglo barba",
        price: "$55.000",
        description:
          "Servicio de afeitado con paños caliente - frío y finaliza con masaje facial",
        isPremium: true,
      },
      {
        name: "Servicio VIP: corte + afeitado clásico y definición o arreglo de barba",
        price: "$45.000",
        description:
          "Servicio de afeitado con paños caliente - frío y finaliza con masaje facial",
        isPremium: true,
      },
      {
        name: "Servicio VIP: afeitado clásico y definición o arreglo de barba",
        price: "$29.500",
        description:
          "Servicio de afeitado con paños caliente - frío y finaliza con masaje facial",
        isPremium: true,
      },
      {
        name: "Afeitado cabeza",
        price: "Desde $29.500",
        description:
          "Servicio de afeitado de cabeza con paños caliente - frío y finaliza con masaje capilar",
      },
    ],
  },
  {
    category: "Cortes & Estilos",
    items: [
      {
        name: "Corte todos los estilos + lavado cabello",
        price: "$19.500",
      },
    ],
  },
  {
    category: "Packs & Niños",
    items: [
      {
        name: "Pack: adulto + niño hasta 10 años",
        price: "$33.000",
      },
      {
        name: "Pack: 2 corte cabello adulto",
        price: "$37.000",
      },
      {
        name: "Corte cabello niño hasta 10 años",
        price: "$17.000",
      },
    ],
  },
  {
    category: "Tratamientos",
    items: [
      {
        name: "Tratamiento capilar",
        price: "$15.000",
        description:
          "Ampolla capilar fortalece el cuero cabelludo ayudando aumentar la densidad capilar y proporciona nutrición a las células, actúa hidratando y nutriendo el cabello",
      },
    ],
  },
];
---

<section id="servicios" class="py-20 bg-onyx">
  <div class="max-w-6xl mx-auto px-4">
    <div class="text-center mb-16">
      <h2 class="font-serif text-4xl md:text-5xl text-smoke mb-4">
        Elige tu Experiencia
      </h2>
      <div class="w-24 h-1 bg-accent mx-auto"></div>
    </div>

    <div class="space-y-16">
      {
        services.map((category) => (
          <div class="category-group">
            <h3 class="font-serif text-2xl text-steel mb-8 border-l-4 border-steel pl-4 uppercase tracking-widest">
              {category.category}
            </h3>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              {category.items.map((service) => (
                <a
                  href="https://conectasitios.cl/agendar_cita/eyJpdiI6ImFnK29keTc0MWx0SER3UVRDamM3emc9PSIsInZhbHVlIjoieUNmSnEvb09BaHIzY2RCUHI5bWw2Zz09IiwibWFjIjoiYWQ1NmViNzIzZjMxMzNiZjA4OWFmZjQ2NDdlNDU1YTVkYzFiMzI4YTAwNjkwMjA2NWI1NTg5NzU5MGQ0ZjIwNCIsInRhZyI6IiJ9"
                  target="_blank"
                  rel="noopener noreferrer"
                  class:list={[
                    "relative p-10 rounded-xl transition-all duration-300 group flex flex-col block",
                    service.isFeatured
                      ? "bg-gradient-to-br from-steel via-accent-light to-steel border-2 border-steel shadow-2xl scale-105 z-10 md:col-span-2 lg:col-span-1"
                      : "bg-charcoal border border-steel/10 hover:border-steel/30 hover:shadow-lg shadow-sm",
                  ]}
                >
                  {service.isFeatured && (
                    <span class="absolute -top-3 left-6 bg-steel text-onyx text-xs font-bold px-3 py-1 rounded-full uppercase tracking-tighter shadow-md">
                      Recomendado
                    </span>
                  )}

                  <div class="flex justify-between items-start mb-4">
                    <h4
                      class:list={[
                        "font-serif text-xl pr-4",
                        service.isFeatured
                          ? "text-onyx"
                          : service.isPremium
                            ? "text-steel"
                            : "text-smoke",
                      ]}
                    >
                      {service.name}
                    </h4>
                    <span
                      class:list={[
                        "font-sans font-bold whitespace-nowrap text-lg",
                        service.isFeatured ? "text-onyx" : "text-steel",
                      ]}
                    >
                      {service.price}
                    </span>
                  </div>

                  {service.description && (
                    <p
                      class:list={[
                        "text-sm font-light leading-relaxed mb-4 italic",
                        service.isFeatured ? "text-onyx/80" : "text-silver",
                      ]}
                    >
                      {service.description}
                    </p>
                  )}
                </a>
              ))}
            </div>
          </div>
        ))
      }
    </div>

    <div class="mt-20 text-center">
      <p class="text-silver mb-8 italic">
        ¿No encuentras lo que buscas? Consúltanos directamente.
      </p>
      <BookingButton className="text-lg px-10 py-4" />
    </div>
  </div>
</section>
